arch/powerpc/platforms/xenon/interrupt.c: In function 'iic_get_irq':
arch/powerpc/platforms/xenon/interrupt.c:242:16: error: implicit declaration of function 'irq_linear_revmap' [-Werror=implicit-function-declaration]
  242 |         return irq_linear_revmap(host, index);
      |                ^~~~~~~~~~~~~~~~~
arch/powerpc/platforms/xenon/interrupt.c: At top level:
arch/powerpc/platforms/xenon/interrupt.c:253:38: error: 'enum irq_domain_bus_token' declared inside parameter list will not be visible outside of this definition or declaration [-Werror]
  253 |                                 enum irq_domain_bus_token bus_token)
      |                                      ^~~~~~~~~~~~~~~~~~~~
arch/powerpc/platforms/xenon/interrupt.c:253:59: error: parameter 3 ('bus_token') has incomplete type
  253 |                                 enum irq_domain_bus_token bus_token)
      |                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~
arch/powerpc/platforms/xenon/interrupt.c:252:12: error: function declaration isn't a prototype [-Werror=strict-prototypes]
  252 | static int xenon_irq_host_match(struct irq_domain *h, struct device_node *node,
      |            ^~~~~~~~~~~~~~~~~~~~
arch/powerpc/platforms/xenon/interrupt.c: In function 'xenon_irq_host_match':
arch/powerpc/platforms/xenon/interrupt.c:255:17: error: invalid use of undefined type 'struct irq_domain'
  255 |         return h->host_data != NULL && node == h->host_data;
      |                 ^~
arch/powerpc/platforms/xenon/interrupt.c:255:49: error: invalid use of undefined type 'struct irq_domain'
  255 |         return h->host_data != NULL && node == h->host_data;
      |                                                 ^~
arch/powerpc/platforms/xenon/interrupt.c: At top level:
arch/powerpc/platforms/xenon/interrupt.c:258:21: error: variable 'xenon_irq_host_ops' has initializer but incomplete type
  258 | static const struct irq_domain_ops xenon_irq_host_ops = {
      |                     ^~~~~~~~~~~~~~
arch/powerpc/platforms/xenon/interrupt.c:259:10: error: 'const struct irq_domain_ops' has no member named 'map'
  259 |         .map = xenon_irq_host_map,
      |          ^~~
arch/powerpc/platforms/xenon/interrupt.c:259:16: error: excess elements in struct initializer [-Werror]
  259 |         .map = xenon_irq_host_map,
      |                ^~~~~~~~~~~~~~~~~~
arch/powerpc/platforms/xenon/interrupt.c:259:16: note: (near initialization for 'xenon_irq_host_ops')
arch/powerpc/platforms/xenon/interrupt.c:260:10: error: 'const struct irq_domain_ops' has no member named 'match'
  260 |         .match = xenon_irq_host_match,
      |          ^~~~~
arch/powerpc/platforms/xenon/interrupt.c:260:18: error: excess elements in struct initializer [-Werror]
  260 |         .match = xenon_irq_host_match,
      |                  ^~~~~~~~~~~~~~~~~~~~
arch/powerpc/platforms/xenon/interrupt.c:260:18: note: (near initialization for 'xenon_irq_host_ops')
arch/powerpc/platforms/xenon/interrupt.c: In function 'xenon_iic_init_IRQ':
arch/powerpc/platforms/xenon/interrupt.c:272:20: error: implicit declaration of function 'of_find_node_by_name'; did you mean 'bus_find_device_by_name'? [-Werror=implicit-function-declaration]
  272 |              (dn = of_find_node_by_name(dn, "interrupt-controller")) != NULL;) {
      |                    ^~~~~~~~~~~~~~~~~~~~
      |                    bus_find_device_by_name
arch/powerpc/platforms/xenon/interrupt.c:272:18: error: assignment to 'struct device_node *' from 'int' makes pointer from integer without a cast [-Werror=int-conversion]
  272 |              (dn = of_find_node_by_name(dn, "interrupt-controller")) != NULL;) {
      |                  ^
arch/powerpc/platforms/xenon/interrupt.c:273:22: error: implicit declaration of function 'of_device_is_compatible' [-Werror=implicit-function-declaration]
  273 |                 if (!of_device_is_compatible(dn, "xenon"))
      |                      ^~~~~~~~~~~~~~~~~~~~~~~
arch/powerpc/platforms/xenon/setup.c: In function 'xenon_show_cpuinfo':
arch/powerpc/platforms/xenon/setup.c:46:16: error: implicit declaration of function 'of_find_node_by_path' [-Werror=implicit-function-declaration]
   46 |         root = of_find_node_by_path("/");
      |                ^~~~~~~~~~~~~~~~~~~~
arch/powerpc/platforms/xenon/setup.c:46:14: error: assignment to 'struct device_node *' from 'int' makes pointer from integer without a cast [-Werror=int-conversion]
   46 |         root = of_find_node_by_path("/");
      |              ^
arch/powerpc/platforms/xenon/interrupt.c:276:21: error: implicit declaration of function 'of_address_to_resource' [-Werror=implicit-function-declaration]
  276 |                 if (of_address_to_resource(dn, 0, &res))
      |                     ^~~~~~~~~~~~~~~~~~~~~~
arch/powerpc/platforms/xenon/interrupt.c:279:25: error: implicit declaration of function 'of_node_put' [-Werror=implicit-function-declaration]
  279 |                         of_node_put(dn);
      |                         ^~~~~~~~~~~
arch/powerpc/platforms/xenon/setup.c:48:25: error: implicit declaration of function 'of_get_property' [-Werror=implicit-function-declaration]
   48 |                 model = of_get_property(root, "model", NULL);
      |                         ^~~~~~~~~~~~~~~
arch/powerpc/platforms/xenon/setup.c:48:23: error: assignment to 'const char *' from 'int' makes pointer from integer without a cast [-Werror=int-conversion]
   48 |                 model = of_get_property(root, "model", NULL);
      |                       ^
arch/powerpc/platforms/xenon/interrupt.c:285:24: error: implicit declaration of function 'irq_domain_add_linear' [-Werror=implicit-function-declaration]
  285 |                 host = irq_domain_add_linear(NULL, XENON_NR_IRQS, &xenon_irq_host_ops, NULL);
      |                        ^~~~~~~~~~~~~~~~~~~~~
arch/powerpc/platforms/xenon/interrupt.c:285:22: error: assignment to 'struct irq_domain *' from 'int' makes pointer from integer without a cast [-Werror=int-conversion]
  285 |                 host = irq_domain_add_linear(NULL, XENON_NR_IRQS, &xenon_irq_host_ops, NULL);
      |                      ^
arch/powerpc/platforms/xenon/interrupt.c:286:21: error: invalid use of undefined type 'struct irq_domain'
  286 |                 host->host_data = of_node_get(dn);
      |                     ^~
arch/powerpc/platforms/xenon/setup.c:50:9: error: implicit declaration of function 'of_node_put' [-Werror=implicit-function-declaration]
   50 |         of_node_put(root);
      |         ^~~~~~~~~~~
arch/powerpc/platforms/xenon/interrupt.c:286:35: error: implicit declaration of function 'of_node_get'; did you mean 'node_set'? [-Werror=implicit-function-declaration]
  286 |                 host->host_data = of_node_get(dn);
      |                                   ^~~~~~~~~~~
      |                                   node_set
arch/powerpc/platforms/xenon/interrupt.c:288:17: error: implicit declaration of function 'irq_set_default_host' [-Werror=implicit-function-declaration]
  288 |                 irq_set_default_host(host);
      |                 ^~~~~~~~~~~~~~~~~~~~
arch/powerpc/platforms/xenon/setup.c: In function 'xenon_probe':
arch/powerpc/platforms/xenon/setup.c:133:14: error: implicit declaration of function 'of_machine_is_compatible' [-Werror=implicit-function-declaration]
  133 |         if (!of_machine_is_compatible("XENON")) {
      |              ^~~~~~~~~~~~~~~~~~~~~~~~
arch/powerpc/platforms/xenon/interrupt.c: In function 'xenon_request_ipi':
arch/powerpc/platforms/xenon/interrupt.c:352:16: error: implicit declaration of function 'irq_create_mapping' [-Werror=implicit-function-declaration]
  352 |         virq = irq_create_mapping(host, prio);
      |                ^~~~~~~~~~~~~~~~~~
cc1: all warnings being treated as errors
arch/powerpc/platforms/xenon/interrupt.c:360:17: error: implicit declaration of function 'irq_dispose_mapping' [-Werror=implicit-function-declaration]
  360 |                 irq_dispose_mapping(virq);
      |                 ^~~~~~~~~~~~~~~~~~~
arch/powerpc/platforms/xenon/interrupt.c: At top level:
arch/powerpc/platforms/xenon/interrupt.c:258:36: error: storage size of 'xenon_irq_host_ops' isn't known
  258 | static const struct irq_domain_ops xenon_irq_host_ops = {
      |                                    ^~~~~~~~~~~~~~~~~~
arch/powerpc/platforms/xenon/setup.c: In function 'xenon_show_cpuinfo':
arch/powerpc/platforms/xenon/setup.c:46:16: error: implicit declaration of function 'of_find_node_by_path' [-Werror=implicit-function-declaration]
   46 |         root = of_find_node_by_path("/");
      |                ^~~~~~~~~~~~~~~~~~~~
arch/powerpc/platforms/xenon/setup.c:46:14: error: assignment to 'struct device_node *' from 'int' makes pointer from integer without a cast [-Werror=int-conversion]
   46 |         root = of_find_node_by_path("/");
      |              ^
arch/powerpc/platforms/xenon/setup.c:48:25: error: implicit declaration of function 'of_get_property' [-Werror=implicit-function-declaration]
   48 |                 model = of_get_property(root, "model", NULL);
      |                         ^~~~~~~~~~~~~~~
arch/powerpc/platforms/xenon/setup.c:48:23: error: assignment to 'const char *' from 'int' makes pointer from integer without a cast [-Werror=int-conversion]
   48 |                 model = of_get_property(root, "model", NULL);
      |                       ^
arch/powerpc/platforms/xenon/setup.c:50:9: error: implicit declaration of function 'of_node_put' [-Werror=implicit-function-declaration]
   50 |         of_node_put(root);
      |         ^~~~~~~~~~~
arch/powerpc/platforms/xenon/setup.c: In function 'xenon_probe':
arch/powerpc/platforms/xenon/setup.c:133:14: error: implicit declaration of function 'of_machine_is_compatible' [-Werror=implicit-function-declaration]
  133 |         if (!of_machine_is_compatible("XENON")) {
      |              ^~~~~~~~~~~~~~~~~~~~~~~~
uart_console_wrdrivers/ata/sata_xenon.c: In function 'xenon_init_one':
drivers/ata/sata_xenon.c:205:14: error: implicit declaration of function 'pci_set_dma_mask' [-Werror=implicit-function-declaration]
  205 |         rc = pci_set_dma_mask(pdev, ATA_DMA_MASK);
      |              ^~~~~~~~~~~~~~~~
drivers/ata/sata_xenon.c:209:14: error: implicit declaration of function 'pci_set_consistent_dma_mask' [-Werror=implicit-function-declaration]
  209 |         rc = pci_set_consistent_dma_mask(pdev, ATA_DMA_MASK);
      |              ^~~~~~~~~~~~~~~~~~~~~~~~~~~
drivers/net/ethernet/xenon/xenon_net.c: In function 'xenon_net_tx_interrupt':
drivers/net/ethernet/xenon/xenon_net.c:161:17: error: implicit declaration of function 'pci_unmap_single'; did you mean 'dma_unmap_single'? [-Werror=implicit-function-declaration]
  161 |                 pci_unmap_single(tp->pdev, tp->tx_skbuff_dma[e],
      |                 ^~~~~~~~~~~~~~~~
      |                 dma_unmap_single
drivers/net/ethernet/xenon/xenon_net.c:162:57: error: 'PCI_DMA_TODEVICE' undeclared (first use in this function); did you mean 'DMA_TO_DEVICE'?
  162 |                                  tp->tx_skbuff[e]->len, PCI_DMA_TODEVICE);
      |                                                         ^~~~~~~~~~~~~~~~
      |                                                         DMA_TO_DEVICE
drivers/net/ethernet/xenon/xenon_net.c:162:57: note: each undeclared identifier is reported only once for each function it appears in
drivers/net/ethernet/xenon/xenon_net.c: In function 'xenon_net_rx_interrupt':
drivers/net/ethernet/xenon/xenon_net.c:210:34: error: 'PCI_DMA_FROMDEVICE' undeclared (first use in this function); did you mean 'DMA_FROM_DEVICE'?
  210 |                                  PCI_DMA_FROMDEVICE);
      |                                  ^~~~~~~~~~~~~~~~~~
      |                                  DMA_FROM_DEVICE
drivers/net/ethernet/xenon/xenon_net.c:219:54: error: implicit declaration of function 'pci_map_single'; did you mean 'dma_map_single'? [-Werror=implicit-function-declaration]
  219 |                 mapping = tp->rx_skbuff_dma[index] = pci_map_single(
      |                                                      ^~~~~~~~~~~~~~
      |                                                      dma_map_single
  CC      drivers/net/usb/cdc_ether.o
drivers/net/ethernet/xenon/xenon_net.c: In function 'xenon_net_init_ring':
drivers/net/ethernet/xenon/xenon_net.c:318:34: error: implicit declaration of function 'pci_alloc_consistent' [-Werror=implicit-function-declaration]
  318 |         tp->tx_descriptor_base = pci_alloc_consistent(
      |                                  ^~~~~~~~~~~~~~~~~~~~
drivers/net/ethernet/xenon/xenon_net.c:318:32: warning: assignment to 'void *' from 'int' makes pointer from integer without a cast [-Wint-conversion]
  318 |         tp->tx_descriptor_base = pci_alloc_consistent(
      |                                ^
drivers/net/ethernet/xenon/xenon_net.c:340:57: error: 'PCI_DMA_FROMDEVICE' undeclared (first use in this function); did you mean 'DMA_FROM_DEVICE'?
  340 |                     tp->pdev, skb->data, tp->rx_buf_sz, PCI_DMA_FROMDEVICE);
      |                                                         ^~~~~~~~~~~~~~~~~~
      |                                                         DMA_FROM_DEVICE
drivers/net/ethernet/xenon/xenon_net.c: In function 'xenon_net_set_mac':
drivers/net/ethernet/xenon/xenon_net.c:365:19: warning: passing argument 1 of 'memcpy' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
  365 |         memcpy(dev->dev_addr, addr->sa_data, ETH_ALEN);
      |                ~~~^~~~~~~~~~
In file included from ./include/linux/string.h:20,
                 from ./arch/powerpc/include/asm/paca.h:16,
                 from ./arch/powerpc/include/asm/current.h:13,
                 from ./include/linux/sched.h:12,
                 from ./include/linux/delay.h:23,
                 from drivers/net/ethernet/xenon/xenon_net.c:15:
./arch/powerpc/include/asm/string.h:27:22: note: expected 'void *' but argument is of type 'const unsigned char *'
   27 | extern void * memcpy(void *,const void *,__kernel_size_t);
      |                      ^~~~~~
drivers/net/ethernet/xenon/xenon_net.c: In function 'xenon_net_start_xmit':
drivers/net/ethernet/xenon/xenon_net.c:462:60: error: 'PCI_DMA_TODEVICE' undeclared (first use in this function); did you mean 'DMA_TO_DEVICE'?
  462 |         mapping = pci_map_single(tp->pdev, skb->data, len, PCI_DMA_TODEVICE);
      |                                                            ^~~~~~~~~~~~~~~~
      |                                                            DMA_TO_DEVICE
drivers/net/ethernet/xenon/xenon_net.c: In function 'xenon_net_tx_clear':
drivers/net/ethernet/xenon/xenon_net.c:492:42: error: 'PCI_DMA_TODEVICE' undeclared (first use in this function); did you mean 'DMA_TO_DEVICE'?
  492 |                                          PCI_DMA_TODEVICE);
      |                                          ^~~~~~~~~~~~~~~~
      |                                          DMA_TO_DEVICE
drivers/net/ethernet/xenon/xenon_net.c: In function 'xenon_net_close':
drivers/net/ethernet/xenon/xenon_net.c:558:9: error: implicit declaration of function 'pci_free_consistent' [-Werror=implicit-function-declaration]
  558 |         pci_free_consistent(tp->pdev, TX_RING_SIZE * 0x10 + RX_RING_SIZE * 0x10,
      |         ^~~~~~~~~~~~~~~~~~~
drivers/net/ethernet/xenon/xenon_net.c: In function 'xenon_net_init_one':
drivers/net/ethernet/xenon/xenon_net.c:692:9: error: too many arguments to function 'netif_napi_add'
  692 |         netif_napi_add(dev, &tp->napi, xenon_net_poll, 64);
      |         ^~~~~~~~~~~~~~
In file included from ./include/linux/etherdevice.h:21,
                 from drivers/net/ethernet/xenon/xenon_net.c:16:
./include/linux/netdevice.h:2569:1: note: declared here
 2569 | netif_napi_add(struct net_device *dev, struct napi_struct *napi,
      | ^~~~~~~~~~~~~~
